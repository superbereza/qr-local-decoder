# QR Local Decoder

–õ–æ–∫–∞–ª—å–Ω—ã–π –æ—Ñ–ª–∞–π–Ω-–¥–µ–∫–æ–¥–µ—Ä QR-–∫–æ–¥–æ–≤. –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:

* –ë–µ—Ä—ë—Ç **–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (PNG/JPG/WEBP, –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ PDF) –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç/—Å—Å—ã–ª–∫–∏ –∏–∑ QR.
* –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —É–º–µ–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å **–≤–µ–±–∫–∞–º–µ—Ä—ã** (CLI).
* –ú–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ **–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±—É—Ñ–µ—Ä** –æ–±–º–µ–Ω–∞.
* –î–ª—è macOS –µ—Å—Ç—å **Quick Action** (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤ Finder ‚Üí –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è).

## –°–æ—Å—Ç–∞–≤ –ø—Ä–æ–µ–∫—Ç–∞

```
qr-local-decoder/
‚îú‚îÄ‚îÄ decode-qr-img-quick-action.workflow/   # —à–∞–±–ª–æ–Ω Quick Action (Automator)
‚îú‚îÄ‚îÄ qr_local_decoder.py                    # —Å–∫—Ä–∏–ø—Ç –¥–µ–∫–æ–¥–µ—Ä–∞ (CLI)
‚îú‚îÄ‚îÄ requirements.txt                       # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (opencv-python, pillow, pyperclip)
‚îú‚îÄ‚îÄ setup-mac-quick-action.sh              # —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Quick Action –¥–ª—è macOS
‚îî‚îÄ‚îÄ venv/                                  # (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
```

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* üîç –î–µ–∫–æ–¥ QR –∏–∑ –æ–¥–Ω–æ–≥–æ –∏ —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
* üîó –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –≤—ã–¥–∞—á–∞ URL (–µ—Å–ª–∏ –≤ QR –∏–º–µ–Ω–Ω–æ —Å—Å—ã–ª–∫–∞).
* üóíÔ∏è –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ –±—É—Ñ–µ—Ä (`--copy`).
* üé• –†–µ–∂–∏–º –≤–µ–±–∫–∞–º–µ—Ä—ã (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω, —á–µ—Ä–µ–∑ CLI).
* üß† –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω.

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* **Python 3.8+** (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ 3.9+).
* macOS –¥–ª—è Quick Action (Automator).
* –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`:

  ```
  opencv-python
  pillow
  pyperclip
  ```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (CLI)

1. –°–æ–∑–¥–∞–π –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```bash
python3 -m venv venv
source venv/bin/activate
```

2. –ü–æ—Å—Ç–∞–≤—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

3. –ó–∞–ø—É—Å–∫ –∏–∑ CLI (–≤ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–º venv):

**–†–∞—Å–ø–æ–∑–Ω–∞—Ç—å QR –≤ —Ñ–∞–π–ª–µ(–∞—Ö):**

```bash
python qr_local_decoder.py path/to/image.jpg
python qr_local_decoder.py img1.png img2.jpg --copy  # —Å–∫–æ–ø–∏—Ä—É–µ—Ç –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

**–†–∞—Å–ø–æ–∑–Ω–∞—Ç—å QR —Å –≤–µ–±–∫–∞–º–µ—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**

```bash
python qr_local_decoder.py --webcam
python qr_local_decoder.py --webcam --copy
```

–í —Ä–µ–∂–∏–º–µ –≤–µ–±–∫–∞–º–µ—Ä—ã –Ω–∞–∂–º–∏ `Q` –∏–ª–∏ `Esc` –¥–ª—è –≤—ã—Ö–æ–¥–∞.

> –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
>
> * –î–ª—è PDF –±–µ—Ä—ë—Ç—Å—è **–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**. –î–ª—è –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã—Ö PDF —Å–Ω–∞—á–∞–ª–∞ –∏–∑–≤–ª–µ–∫–∏ –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.
> * `--copy` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `pyperclip`. –ù–∞ macOS —Ä–∞–±–æ—Ç–∞–µ—Ç ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Quick Actions (macOS)

–°–∫—Ä–∏–ø—Ç `setup-mac-quick-action.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

* —Å–æ–∑–¥–∞—Å—Ç/–æ–±–Ω–æ–≤–∏—Ç `venv` –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏;
* —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Quick Action –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞ –∏ **–ø—Ä–æ–ø–∏—à–µ—Ç** –≤ –Ω–µ–≥–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ç–≤–æ–µ–º—É `venv` –∏ `qr_local_decoder.py`;
* **–ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç** –≥–æ—Ç–æ–≤—ã–π –≤–æ—Ä–∫—Ñ–ª–æ—É –≤ `~/Library/Services` –ø–æ–¥ –∏–º–µ–Ω–µ–º `decode qr img.workflow`.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ó–∞–ø—É—Å—Ç–∏ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:

```bash
chmod +x setup-mac-quick-action.sh
./setup-mac-quick-action.sh
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

* –í Finder ‚Üí –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é —Å QR ‚Üí **–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è** ‚Üí `decode qr img`.
* –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ä–∞–∑—É –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞; —Ç–∞–∫–∂–µ –ø–æ—è–≤–∏—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ macOS.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

* –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª –ø—Ä–æ–µ–∫—Ç –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ, –ø—Ä–æ—Å—Ç–æ —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏:

  ```bash
  ./setup-mac-quick-action.sh
  ```

  –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Quick Action —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏.

### –£–¥–∞–ª–µ–Ω–∏–µ Quick Action

–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª:

```
~/Library/Services/decode\ qr\ img.workflow
```

(–ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ Quick Action –∏—Å—á–µ–∑–Ω–µ—Ç –∏–∑ Finder).

---

## –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**–≠—Ç–æ —Ç–æ—á–Ω–æ –æ—Ñ–ª–∞–π–Ω?**
–î–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OpenCV, Pillow –∏ –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞/—Ñ–∞–π–ª—ã. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

**–ü–æ—á–µ–º—É Quick Action –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è?**

* –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ñ–∞–π–ª –ª–µ–∂–∏—Ç –≤ `~/Library/Services/`.
* –í –ø—Ä–∞–≤–æ–º –∫–ª–∏–∫–µ –ø–æ —Ñ–∞–π–ª—É –∑–∞–π–¥–∏ –≤ ¬´–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è¬ª ‚Üí ¬´–ù–∞—Å—Ç—Ä–æ–∏—Ç—å¬ª, –≤–∫–ª—é—á–∏ –Ω—É–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å.
* –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Finder:

  ```bash
  killall Finder
  ```

**–î–µ–∫–æ–¥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª. –ß—Ç–æ –¥–µ–ª–∞—Ç—å?**

* –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑–∫–æ–µ –∏ QR –Ω–µ –æ–±—Ä–µ–∑–∞–Ω.
* –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª/—Ä–∞–∫—É—Ä—Å.
* –í CLI –∑–∞–ø—É—Å—Ç–∏ —Å —Ñ–ª–∞–≥–æ–º `--debug`

---

## –ü—Ä–∏–º–µ—Ä—ã

**–í—ã–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è):**

```bash
python qr_local_decoder.py qrcode.png
```

**–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±—É—Ñ–µ—Ä (CLI):**

```bash
python qr_local_decoder.py qrcode.png --copy
```

**–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**

```bash
python qr_local_decoder.py scans/*.jpg --copy
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å

* –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç —Ç–≤–æ–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.
* –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è macOS –≤—ã–ø–æ–ª–Ω—è—é—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –≤ —Ç–≤–æ—ë–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.
* –î–ª—è –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `pyperclip`.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
